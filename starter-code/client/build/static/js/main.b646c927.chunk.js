(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,n){e.exports=n.p+"static/media/logo.9d56970a.svg"},32:function(e,t,n){e.exports=n(59)},37:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(27),o=n.n(c),l=(n(37),n(6)),u=n(8),s=n(28),i=n.n(s);console.log("production");var m=i.a.create({baseURL:"/api",withCredentials:!0}),p=function(e){if(console.error(e),e.response&&e.response.data)throw console.error("API response",e.response.data),e.response.data.message;throw e},g={service:m,isLoggedIn:function(){return null!=localStorage.getItem("user")},getLocalStorageUser:function(){return JSON.parse(localStorage.getItem("user"))},signup:function(e){return m.post("/signup",e).then(function(e){return localStorage.setItem("user",JSON.stringify(e.data)),e.data}).catch(p)},login:function(e,t){return m.post("/login",{username:e,password:t}).then(function(e){return localStorage.setItem("user",JSON.stringify(e.data)),e.data}).catch(p)},logout:function(){return localStorage.removeItem("user"),m.get("/logout")},getCountries:function(){return m.get("/countries").then(function(e){return e.data}).catch(p)},addCountry:function(e){return m.post("/countries",e).then(function(e){return e.data}).catch(p)},getSecret:function(){return m.get("/secret").then(function(e){return e.data}).catch(p)},addPicture:function(e){var t=new FormData;return t.append("picture",e),m.post("/endpoint/to/add/a/picture",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(e){return e.data}).catch(p)}},d=n(29),f=n.n(d);var E=Object(u.f)(function(e){return r.a.createElement("nav",{className:"App-header"},r.a.createElement("img",{src:f.a,className:"App-logo",alt:"logo"}),r.a.createElement("h1",{className:"App-title"},"MERN Boilerplate"),r.a.createElement(l.c,{to:"/",exact:!0},"Home"),r.a.createElement(l.c,{to:"/countries"},"Countries"),r.a.createElement(l.c,{to:"/add-country"},"Add country"),!g.isLoggedIn()&&r.a.createElement(l.c,{to:"/signup"},"Signup"),!g.isLoggedIn()&&r.a.createElement(l.c,{to:"/login"},"Login"),g.isLoggedIn()&&r.a.createElement(l.b,{to:"/",onClick:function(e){g.logout()}},"Logout"),r.a.createElement(l.c,{to:"/secret"},"Secret"))});function h(){return r.a.createElement("div",{className:"Home"},r.a.createElement("h2",null,"Home"),r.a.createElement("p",null,"This is a sample project with the MERN stack"))}var v=n(3);function b(){var e=Object(a.useState)([]),t=Object(v.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)(function(){g.getCountries().then(function(e){c(e)}).catch(function(e){return console.log(e)})},[]),r.a.createElement("div",{className:"Countries"},r.a.createElement("h2",null,"List of countries"),n.map(function(e){return r.a.createElement("li",{key:e._id},e.name)}))}var S=n(9),C=n(10);function O(e){var t=Object(a.useState)({name:"",capitals:"",area:"",description:""}),n=Object(v.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(null),u=Object(v.a)(l,2),s=u[0],i=u[1];function m(e){o(Object(C.a)({},c,Object(S.a)({},e.target.name,e.target.value)))}return console.log(c),r.a.createElement("div",{className:"AddCountry"},r.a.createElement("h2",null,"Add country"),r.a.createElement("form",null,"Name:"," ",r.a.createElement("input",{type:"text",value:c.name,name:"name",onChange:m})," ",r.a.createElement("br",null),"Capitals:"," ",r.a.createElement("input",{type:"text",value:c.capitals,name:"capitals",onChange:m})," ",r.a.createElement("br",null),"Area:"," ",r.a.createElement("input",{type:"number",value:c.area,name:"area",onChange:m})," ",r.a.createElement("br",null),"Description:"," ",r.a.createElement("textarea",{value:c.description,name:"description",cols:"30",rows:"10",onChange:m})," ",r.a.createElement("br",null),r.a.createElement("button",{onClick:function(e){return function(e){e.preventDefault(),console.log(c.name,c.description);var t={name:c.name,capitals:c.capitals,area:c.area,description:c.description};g.addCountry(t).then(function(e){console.log("SUCCESS!"),o({name:"",capitals:"",area:"",description:""}),i("Your country '".concat(c.name,"' has been created")),setTimeout(function(){i(null)},2e3)}).catch(function(e){return o({message:e.toString()})})}(e)}},"Create country")),s&&r.a.createElement("div",{className:"info"},s))}function j(){var e=Object(a.useState)({secret:null,message:null}),t=Object(v.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)(function(){console.log("Boom!"),g.getSecret().then(function(e){return c({secret:e.secret})}).catch(function(e){return c({message:e.toString()})})},[]),r.a.createElement("div",{className:"Secret"},r.a.createElement("h2",null,"Secret"),r.a.createElement("div",{className:"result"},n.secret),n.message&&r.a.createElement("div",{className:"info info-danger"},n.message))}function w(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(a.useState)(e),n=Object(v.a)(t,2),r=n[0],c=n[1];function o(e){var t="checkbox"===e.target.type?e.target.checked:e.target.value;c(Object(C.a)({},r,Object(S.a)({},e.target.name,t)))}return{formValues:r,getInputProps:function(e){return{name:e,value:r[e]||"",checked:r[e]||!1,onChange:o}},handleChange:o}}({username:"",password:""}),n=t.formValues,c=t.getInputProps;var o=Object(a.useState)(null),l=Object(v.a)(o,2),u=l[0],s=l[1];return r.a.createElement("div",{className:"Login"},r.a.createElement("h2",null,"Login"),r.a.createElement("form",{onSubmit:function(t){t.preventDefault(),g.login(n.username,n.password).then(function(t){console.log("SUCCESS!"),e.history.push("/")}).catch(function(e){return s(e.toString())})}},"Username: ",r.a.createElement("input",Object.assign({type:"text"},c("username")))," ",r.a.createElement("br",null),"Password: ",r.a.createElement("input",Object.assign({type:"password"},c("password"))),r.a.createElement("br",null),r.a.createElement("button",null,"Login")),u&&r.a.createElement("div",{className:"info info-danger"},u))}function y(e){var t=Object(a.useState)({username:"",name:"",password:"",message:null}),n=Object(v.a)(t,2),c=n[0],o=n[1];function l(e){o(Object(C.a)({},c,Object(S.a)({},e.target.name,e.target.value)))}return r.a.createElement("div",{className:"Signup"},r.a.createElement("h2",null,"Signup"),r.a.createElement("form",null,"Username:"," ",r.a.createElement("input",{type:"text",value:c.username,name:"username",onChange:l})," ",r.a.createElement("br",null),"Name:"," ",r.a.createElement("input",{type:"text",value:c.name,name:"name",onChange:l})," ",r.a.createElement("br",null),"Password:"," ",r.a.createElement("input",{type:"password",value:c.password,name:"password",onChange:l})," ",r.a.createElement("br",null),r.a.createElement("button",{onClick:function(t){return function(t){t.preventDefault();var n={username:c.username,name:c.name,password:c.password};g.signup(n).then(function(t){console.log("SUCCESS!"),e.history.push("/")}).catch(function(e){return o({message:e.toString()})})}(t)}},"Signup")),c.message&&r.a.createElement("div",{className:"info info-danger"},c.message))}o.a.render(r.a.createElement(l.a,null,r.a.createElement(function(){return r.a.createElement("div",{className:"App"},r.a.createElement(E,null),r.a.createElement(u.c,null,r.a.createElement(u.a,{path:"/",exact:!0,component:h}),r.a.createElement(u.a,{path:"/countries",component:b}),r.a.createElement(u.a,{path:"/add-country",component:O}),r.a.createElement(u.a,{path:"/signup",component:y}),r.a.createElement(u.a,{path:"/login",component:w}),r.a.createElement(u.a,{path:"/secret",component:j}),r.a.createElement(u.a,{render:function(){return r.a.createElement("h2",null,"404")}})))},null)),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.b646c927.chunk.js.map